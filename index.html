<html>
<head>
  <meta property='og:title' content='Hitung Kadar Emas'>
  <meta name='description' content='Berdasarkan berat luar & dalam air.'>
  <meta property="og:image" content='https://sukedi.github.io/emas/emas.jpg'>
  <meta name="viewport" content="width=device-width, user-scalable=no">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <title>:::Emas:::</title>
  <style>
  body {
    background: linear-gradient(to bottom, navy, royalblue, skyblue, lightblue);
    height: 100vh;
    font-family: arial;
    font-size: 14px;
  }
  </style>
</head>
<body onLoad="detekOS()">
  <div id="usr" style="font-size:11px; color:yellow"></div>
  <center>
    <h4 style="font-size:14px; color:#FFD700;">
    <img src="emas.gif" width="100"><hr>
    Selamat Datang di Website Emas</h4>
  </center>
  Silakan pilih menu di bawah ini.
    <p><ul>
      <li><a href="hAx7vq0sw2k.html"><b>Registrasi</b></a></li>
      Diperlukan untuk memastikan 
      anda menjadi pengguna resmi 
      program-program yang tersaji 
      di website ini sehingga anda 
      berhak atas layanan kami.
      <li><a href="hAx9dE2g0nW.html"><b>Hitung Kadar Emas</b></a></li>
      Program untuk menghitung kadar 
      emas berdasarkan berat kering, 
      berat basah dan warna.
      <li><a href="hAx2yQh4fKl.html"><b>Struk Menggunakan Berat</b></a></li>
      Struk jual-beli menggunakan 
      berat basah sebagai parameter dalam 
      menghitung kadar emas.
      <li><a href="hAx3jYd0dFb.html"><b>Struk Menggunakan Kadar</b></a></li>
      Struk jual-beli menggunakan 
      kadar emas yang sudah diketahui.
    </ul></p><hr>
  <center>
    <p style="font-size:11px; color:green;">
      Hak Cipta &copy; 2025, CV Esa Solusindo Pemalang</p>
  </center><hr>
  <script>
  function detekOS() {
    let userAgent = navigator.userAgent || navigator.vendor || window.opera;
    os = "Unknown";
    if (/android/i.test(userAgent)) {
        os = "Android";
    } 
    if (/iPhone|iPad|iPod/i.test(userAgent)) {
        os = "iPhone";
    }
    if (os !== "Android" && os !== "iPhone"){
        window.location.replace("https://sukedi.github.io/emas/ditolak.html");
    }
    device_id();
  }
  async function device_id(){
    const userAgent = navigator.userAgent;
    const platform = navigator.platform;
    const screenWidth = window.screen.width;
    const screenHeight = window.screen.height;
    const fingerprint = `${userAgent};${platform};${screenWidth}x${screenHeight}`;
    let hash = await hashSHA256(fingerprint);
    cekExist(hash);
  }
  async function hashSHA256(text) {
    const encoder = new TextEncoder();
    const data = encoder.encode(text);
    const hashBuffer = await crypto.subtle.digest("SHA-256", data);
    const hashArray = Array.from(new Uint8Array(hashBuffer));
    const hashHex = hashArray.map(byte => byte.toString(16).padStart(2, "0")).join("");
    return hashHex;
  }
  async function cekExist(newNumber) {
    const dataFile = "user.txt";
    const response = await fetch(dataFile);
    if (!response.ok) {
        Swal.fire({
        title: "Error",
        text: "Gagal membaca file data!",
        icon: "error"
        });
        return;
    }
    const textData = await response.text();
    const rows = textData.split("\n").map(row => row.trim()).filter(row => row !== "");
    const isExist = rows.some(row => row.startsWith(newNumber + ","));
    usrx="Username tak terdaftar. <a href='hAx7vq0sw2k.html'>Klik di sini untuk mendaftar</a>";
    if (isExist) {
       const lines = textData.split("\n").map(line => line.split(", ").map(item => item.trim()));
       lines.forEach((row, i) => {
          row.forEach((col, j) => {
          if (j==1){
            usrx = `[${col}]`;
          }
          });
        });
     }
     document.getElementById("usr").innerHTML= usrx;
  }
  </script>
</body>
</html>
